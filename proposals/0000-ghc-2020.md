---
author: Alejandro Serrano
date-accepted: ""
ticket-url: ""
implemented: ""
---

This proposal is [discussed at this pull request](https://github.com/ghc-proposals/ghc-proposals/pull/0>).
**After creating the pull request, edit this file again, update the number in
the link, and delete this bold sentence.**

# GHC 2020

This proposal aims to start a conversation for a new language version `GHC2020`, which includes `Haskell2010` as defined by the Report and several extensions.

## Motivation

It has almost become a meme that any slightly-complex Haskell module starts with a dozen lines of `{-#Â LANGUAGE #-}` pragmas. This poses several problems:

- beginners often see features behind an extension as "advanced" or "obscure", even though some like `LambdaCase` or `NamedFieldPuns` are quite simple;
- some sorts of programming in Haskell -- mostly type-level oriented -- require enables lots of extensions (think of the usual combo `MultiParamTypeClasses` + `FlexibleInstances` + `FlexibleContexts`). Sometimes the fact that there are different extensions, instead of a single `ExtendedTypeClasses` is mostly historical.

## Proposed Change Specification

We propose to introduce a new "language version" `GHC2020`, which extends `Haskell2010` with some default extensions. This proposal does not set _which_ extensions are included, rather seeks to provide a framework to reach a conclusion in a timely manner.

### Criteria

We define a set of six criteria. Not all criteria _must_ be satisfied for an extension to be included, but there should be a stronger reason in that case.

1. The extension is (mostly) _conservative_: All programs that were accepted without the extension remain accepted, and with the same meaning. We prefer to take this as a strict criteria, and grant exceptions on a case-by-case basis.
2. _New failure modes_ that become possible with the extension are _rare_ and/or easy to diagnose. These failure modes include new error messages, wrong inferred types, and runtime errors, for example. In other words, the _developer experience_ should not get worse by adding this extension to the default mix.
3. The extensions _complement_ the design of standard Haskell. This is the most subjective of the criteria. For example, `MultiParamTypeClasses` extends what's already there, and works well with the rest of features. If we suddenly decided you can use Lisp-like syntax, that would not complement the current design.
4. The extension has been -- and can reasonably be predicted to remain -- _stable_.
5. The extension is _not_ to _gate-keep_ an advanced or potentially-unsafe feature. `IncoherentInstances` should not be enabled by default because of its potential unsafety.
6. The extension has _widespread_ usage.

### Process

Upon acceptance of this proposal, a new repository `ghc-2020` should be started.

Discussion about each extension should happen in a separate _issue_, in which the proponent should argument their reason for inclusion. We follow the same procedure as in GHC proposals: after enough time to gather feedback from the community, the GHC Steering Committee makes a final veredict about the inclusion.

On a date set in advance, all those extensions which have been accepted are included as part of the new language version.

## Examples

This section illustrates the specification through the use of examples of the
language change proposed. It is best to exemplify each point made in the
specification, though perhaps one example can cover several points. Contrived
examples are OK here. If the Motivation section describes something that is
hard to do without this proposal, this is a good place to show how easy that
thing is to do with the proposal.

## Effect and Interactions

Your proposed change addresses the issues raised in the
motivation. Explain how.

Also, discuss possibly contentious interactions with existing language or compiler
features. Complete this section with potential interactions raised
during the PR discussion.


## Costs and Drawbacks

Give an estimate on development and maintenance costs. List how this effects
learnability of the language for novice users. Define and list any remaining
drawbacks that cannot be resolved.


## Alternatives

List alternative designs to your proposed change. Both existing
workarounds, or alternative choices for the changes. Explain
the reasons for choosing the proposed change over these alternative:
*e.g.* they can be cheaper but insufficient, or better but too
expensive. Or something else.

The PR discussion often raises other potential designs, and they should be
added to this section. Similarly, if the proposed change
specification changes significantly, the old one should be listed in
this section.

## Unresolved Questions

Explicitly list any remaining issues that remain in the conceptual design and
specification. Be upfront and trust that the community will help. Please do
not list *implementation* issues.

Hopefully this section will be empty by the time the proposal is brought to
the steering committee.


## Implementation Plan

(Optional) If accepted who will implement the change? Which other resources
and prerequisites are required for implementation?

## Endorsements

(Optional) This section provides an opportunty for any third parties to express their
support for the proposal, and to say why they would like to see it adopted.
It is not mandatory for have any endorsements at all, but the more substantial
the proposal is, the more desirable it is to offer evidence that there is
significant demand from the community.  This section is one way to provide
such evidence.

